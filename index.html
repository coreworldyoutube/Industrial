<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚¯ãƒ©ãƒ•ãƒˆã‚²ãƒ¼ãƒ </title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            text-align: center;
        }
        .item {
            display: inline-block;
            margin: 10px;
            padding: 10px;
            border: 1px solid #ccc;
            cursor: pointer;
        }
        #result {
            margin-top: 20px;
            font-size: 1.5em;
        }
        .scene {
            display: none;
        }
        .active {
            display: block;
        }
    </style>
</head>
<body>
    <h1>ã‚¯ãƒ©ãƒ•ãƒˆã‚·ã‚¹ãƒ†ãƒ </h1>
    
    <!-- ã‚·ãƒ¼ãƒ³1: ã‚¢ã‚¤ãƒ†ãƒ é¸æŠã¨ã‚¯ãƒ©ãƒ•ãƒˆ -->
    <div id="scene1" class="scene active">
        <div id="inventory">
            <div class="item" data-item="æœ¨æ">ğŸªµ æœ¨æ</div>
            <div class="item" data-item="çŸ³">ğŸª¨ çŸ³</div>
            <div class="item" data-item="ç¨®">ğŸŒ± ç¨®</div>
            <div class="item" data-item="æ°´">ğŸ’§ æ°´</div>
        </div>
        <button id="craftButton">ã‚¯ãƒ©ãƒ•ãƒˆã™ã‚‹</button>
        <div id="craftMessage"></div>
    </div>

    <!-- ã‚·ãƒ¼ãƒ³2: ä½œæˆã—ãŸã‚¢ã‚¤ãƒ†ãƒ è¡¨ç¤º -->
    <div id="scene2" class="scene">
        <h2>ä½œæˆã—ãŸã‚¢ã‚¤ãƒ†ãƒ </h2>
        <div id="craftedItem">ã¾ã ã‚¢ã‚¤ãƒ†ãƒ ã¯ä½œæˆã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚</div>
        <button onclick="changeScene('scene1')">æˆ»ã‚‹</button>
    </div>

    <script>
        // ä»¥å‰ä½œæˆã—ãŸã‚¢ã‚¤ãƒ†ãƒ ã‚’ä¿å­˜ã™ã‚‹ãŸã‚ã®é…åˆ—
        let craftedItems = [];

        // ã‚¢ã‚¤ãƒ†ãƒ ã‚’é¸æŠã™ã‚‹ãŸã‚ã®ã‚¤ãƒ™ãƒ³ãƒˆ
        document.querySelectorAll('.item').forEach(item => {
            item.addEventListener('click', () => {
                item.style.backgroundColor = '#d0f0c0'; // ã‚¢ã‚¤ãƒ†ãƒ ã‚’é¸æŠã—ãŸã¨ãã®èƒŒæ™¯è‰²
            });
        });

        // ã‚¯ãƒ©ãƒ•ãƒˆãƒœã‚¿ãƒ³ã®ã‚¤ãƒ™ãƒ³ãƒˆ
        document.getElementById('craftButton').addEventListener('click', () => {
            const selectedItems = [];
            document.querySelectorAll('.item').forEach(item => {
                if (item.style.backgroundColor === 'rgb(208, 240, 192)') {
                    selectedItems.push(item.dataset.item);
                }
            });

            if (selectedItems.length === 2) {
                const craftedItem = selectedItems.join(" ã¨ "); // ä½œæˆã—ãŸã‚¢ã‚¤ãƒ†ãƒ ã‚’è¡¨ç¤º
                craftedItems.push(craftedItem);
                document.getElementById('craftMessage').textContent = '';
                changeScene('scene2');  // çµæœã‚·ãƒ¼ãƒ³ã«åˆ‡ã‚Šæ›¿ãˆ
                updateCraftedItems(); // ä½œæˆã—ãŸã‚¢ã‚¤ãƒ†ãƒ ã‚’æ›´æ–°
            } else {
                document.getElementById('craftMessage').textContent = 'ã‚¢ã‚¤ãƒ†ãƒ ã‚’2ã¤é¸ã‚“ã§ãã ã•ã„ã€‚';
            }

            // ã‚¢ã‚¤ãƒ†ãƒ é¸æŠã‚’ãƒªã‚»ãƒƒãƒˆ
            document.querySelectorAll('.item').forEach(item => item.style.backgroundColor = '');
        });

        // ä½œæˆã—ãŸã‚¢ã‚¤ãƒ†ãƒ ã‚’ã‚·ãƒ¼ãƒ³2ã«è¡¨ç¤º
        function updateCraftedItems() {
            const craftedItemDiv = document.getElementById('craftedItem');
            if (craftedItems.length === 0) {
                craftedItemDiv.textContent = 'ã¾ã ã‚¢ã‚¤ãƒ†ãƒ ã¯ä½œæˆã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚';
            } else {
                craftedItemDiv.textContent = 'ä½œæˆã—ãŸã‚¢ã‚¤ãƒ†ãƒ : ' + craftedItems.join(', ');
            }
        }

        // ã‚·ãƒ¼ãƒ³ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹é–¢æ•°
        function changeScene(sceneId) {
            // ã™ã¹ã¦ã®ã‚·ãƒ¼ãƒ³ã‚’éè¡¨ç¤ºã«ã™ã‚‹
            const scenes = document.querySelectorAll('.scene');
            scenes.forEach(scene => {
                scene.classList.remove('active');
            });

            // æŒ‡å®šã•ã‚ŒãŸã‚·ãƒ¼ãƒ³ã‚’è¡¨ç¤ºã™ã‚‹
            const sceneToShow = document.getElementById(sceneId);
            sceneToShow.classList.add('active');
        }
    </script>
</body>
</html>
